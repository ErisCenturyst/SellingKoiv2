@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@model SellingKoi.Models.Account

@{
    ViewData["Title"] = "Chi tiết Tài khoản";
}

<h2>Chi tiết Tài khoản</h2>

<div>
    <h4>@Model.Username</h4>
    <hr />
    <dl class="row">
        <dt class="col-sm-2">Họ tên</dt>
        <dd class="col-sm-10">@Model.Fullname</dd>

        <dt class="col-sm-2">Vai trò</dt>
        <dd class="col-sm-10">
            <form asp-action="UpdateRole" asp-route-id="@Model.Id" method="post" class="role-update-form">
                <div class="input-group">
                    <select name="role" class="form-select custom-select">
                        @foreach (var role in new[] { "Staff", "Customer","Manager" })
                        {
                            @if (Model.Role == role)
                            {
                                <option value="@role" selected>@role</option>
                            }
                            else
                            {
                                <option value="@role">@role</option>
                            }
                        }
                    </select>
                    <button type="submit" class="btn btn-outline-secondary">Cập nhật</button>
                </div>
            </form>
        </dd>

        <dt class="col-sm-2">Ngày đăng ký</dt>
        <dd class="col-sm-10">@Model.Registration_date.ToString("dd/MM/yyyy")</dd>
    </dl>
</div>

<div>
    <a asp-action="AccountManagement" class="btn btn-secondary">Quay lại danh sách</a>
    @* <a asp-action="EditAccount" asp-route-id="@Model.Id" class="btn btn-warning">Chỉnh sửa</a> *@
    <form asp-action="NegateAccount" asp-route-id="@Model.Id" method="post" style="display:inline;">
        <button type="submit" class="btn btn-danger" onclick="return confirm('Bạn có chắc chắn muốn xóa tài khoản này?');">Xóa</button>
    </form>
</div>

<style>
    .role-update-form .input-group {
        max-width: 250px;
    }
    .role-update-form .custom-select {
        border-top-right-radius: 0;
        border-bottom-right-radius: 0;
    }
    .role-update-form .btn {
        border-top-left-radius: 0;
        border-bottom-left-radius: 0;
    }
</style>
